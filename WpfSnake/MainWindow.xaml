<Window x:Class="WpfSnake.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="WpfSnake" Height="500" Width="450"
        KeyDown="Window_KeyDown"
        Loaded="Window_Loaded"
        FocusManager.FocusedElement="{Binding ElementName=Root}"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <SolidColorBrush x:Key="HudBg" Color="#FF1e293b"/>
        <SolidColorBrush x:Key="HudFg" Color="#FFe2e8f0"/>
        <SolidColorBrush x:Key="HintFg" Color="#FF94a3b8"/>
        <SolidColorBrush x:Key="GameBg" Color="#FF0b1220"/>
        <SolidColorBrush x:Key="GridLine" Color="#FF0f1a2e"/>
        <SolidColorBrush x:Key="FoodBrush" Color="#FFf59e0b"/>
        <SolidColorBrush x:Key="SnakeHeadBrush" Color="#FF34d399"/>
        <SolidColorBrush x:Key="SnakeBodyBrush" Color="#FF10b981"/>
        <SolidColorBrush x:Key="OverTint" Color="#660f172a"/>
        <SolidColorBrush x:Key="OverText" Color="#FFfca5a5"/>

        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF1e293b"/>
            <Setter Property="Foreground" Value="#FFe2e8f0"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF2d3f57"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid x:Name="Root" 
          Background="#FF0f172a"
          Focusable="True">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    Margin="10">
            <Border Background="{StaticResource HudBg}" 
                    CornerRadius="6" 
                    Padding="8,4" 
                    Margin="0,0,16,0">
                <TextBlock x:Name="ScoreText" 
                           Foreground="{StaticResource HudFg}"
                           FontSize="13"
                           Text="Score: 0"/>
            </Border>
            <Border Background="{StaticResource HudBg}" 
                    CornerRadius="6" 
                    Padding="8,4">
                <TextBlock x:Name="SpeedText" 
                           Foreground="{StaticResource HudFg}"
                           FontSize="13"
                           Text="Speed: 10 fps"/>
            </Border>
        </StackPanel>

        <Grid Grid.Row="1"
              x:Name="GameArea"
              Width="400" 
              Height="400"
              HorizontalAlignment="Center" 
              VerticalAlignment="Center">

            <Canvas x:Name="GameCanvas"
                    Background="{StaticResource GameBg}"/>

            <Grid x:Name="GameOverPanel"
                  Visibility="Collapsed"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch">
                <Border Background="{StaticResource OverTint}"
                        CornerRadius="8"
                        Padding="20"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                    <StackPanel>
                        <TextBlock x:Name="GameOverText"
                                   Foreground="{StaticResource OverText}"
                                   FontWeight="Bold"
                                   FontSize="16"
                                   HorizontalAlignment="Center"
                                   Text="Game Over!"
                                   Margin="0,0,0,12"/>
                        <Button x:Name="RestartButton"
                                Click="RestartButton_Click"
                                Content="Restart"
                                Style="{StaticResource RoundedButtonStyle}"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>